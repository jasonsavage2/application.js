
/* application.js v1.6.1 engauge.com  */
(function(e){function f(){var a=[],b=document.getElementsByTagName("script"),c;for(c in b)"string"===typeof b[c].src&&""!==b[c].src&&a.push(b[c].src);n=a;a=app.config;null!==app.config.currentPage?b=app.config.currentPage:(b=e.location.pathname.toLowerCase(),b=b.replace(/[\?#].*$/,""),b=b.replace(/(^\/+|\/+$)/g,""),0===b.length&&(b="home/index"),!0!==/\//.test(b)&&(b+="/index"));a.currentPage=b;a=m([],k.global);b=app.config.currentPage.split("/");c="";g(k["*"+b[0]])||(b[0]="*"+b[0],a=[]);for(var d= 0,f=b.length;d<f;d++)c+=b[d],m(a,k[c]),c+="/";for(;a.length;)b=a.shift(),c=app.module(b),g(c)?console.log("module not found: "+b):(m(p,c.requires),q.push(c),l())}function l(){if(!r)if(p.length){r=!0;var a=d(p.shift());app.getScript(a,function(){r=!1;l()})}else for(;q.length;)a=q.shift(),"function"===typeof a.init&&a.init()}function d(a){!0!==/^(http|\/\/)/.test(a)&&(a=app.config.vendorPath+a,!0!==/\.js$/.test(a)&&(a+=".js"));return a}function g(a){return"undefined"===typeof a||null===a}function m(a, b){a.push.apply(a,b||[]);return a}var s={},k={},n=[],p=[],q=[],r=!1,t=Math.floor(9999*Math.random()),h={};e.app=e.app||{};e.app.config={version:"1.6.1",currentPage:null,vendorPath:"/assets/js/vendor/"};e.app.startup=function(a,b){if("function"===typeof b){var c="mod"+t++;app.module(c,{init:b});b=[c]}"string"===typeof b&&(b=[b]);a=a.toLowerCase().replace(/(^\/+|\/+$)/g,"");k[a]=k[a]||[];m(k[a],b)};e.app.module=function(a,b){return g(b)?s[a]:s[a]=b};e.app.getScript=function(a,b){b=b||function(){};if(-1=== n.indexOf(a)){n.push(a);var c=document.createElement("script"),d=document.getElementsByTagName("script")[0];c.src=a;var e=!1;c.onload=c.onreadystatechange=function(){e||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(e=!0,c.onload=c.onreadystatechange=null,b.apply(app))};d.parentNode.insertBefore(c,d)}else b.apply(app)};e.app.subscribe=function(a,b){b.handleNotifications=b.handleNotifications||function(a,b){};h[a]=h[a]||[];h[a].push(b)};e.app.unsubscribe=function(a,b){g(h[a])|| h[a].splice(h[a].indexOf(b),1)};e.app.notify=function(a,b){for(var c=h[a]||[];c.length;)c.shift().handleNotifications(a,b)};if(g(window.addEventListener))if(g(document.addEventListener))if(g(window.attachEvent))if("function"==typeof window.onload){var u=onload;window.onload=function(){u();f()}}else window.onload=f;else window.attachEvent("onload",f);else document.addEventListener("load",f,!1);else window.addEventListener("load",f,!1)})(window); Array.prototype.indexOf=Array.prototype.indexOf||function(e,f){var l=this.length>>>0,d=Number(f)||0,d=0>d?Math.ceil(d):Math.floor(d);for(0>d&&(d+=l);d<l;d++)if(d in this&&this[d]===e)return d;return-1};